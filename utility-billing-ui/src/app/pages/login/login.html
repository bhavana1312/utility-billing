<div class="container">
  <div class="card auth-card">
    <h2>Welcome back</h2>

    <form [formGroup]="form" (ngSubmit)="submit()">

      <input placeholder="Username" formControlName="username" />
      <div class="error" *ngIf="form.get('username')?.touched && form.get('username')?.invalid">
        Username is required
      </div>

      <input type="password" placeholder="Password" formControlName="password" />
      <div class="error" *ngIf="form.get('password')?.touched && form.get('password')?.invalid">
        Password is required
      </div>

      <div class="api-error" *ngIf="apiError">
        {{apiError}}
      </div>

      <div class="success" *ngIf="success">
        {{success}}
      </div>

      <button type="submit" [disabled]="form.invalid || loading">
        {{loading?'Logging in...':'Login'}}
      </button>

    </form>
  </div>
</div>